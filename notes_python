Notes on Python

Modules:
help('modules') produces a list of available modules
import numpy as np # Numerical functions e.g. mean, len etc
import sys 
from netCDF4 import Dataset as dset
dir('module_name') # Lists the functions imported with the module

List files and directories in cwd
import os
files = filter(os.path.isfile, os.listdir('.'))
dirs = filter(os.path.isdir, os.listdir('.')) 
files
dirs

Some basic tasks
np.shape(Psi) # size(Psi)

Loading netcdf files
for now to import variables I have to used the full path name...
F=dset('./Psi_dens/185-190Psi.nc') # load the netcdf file
print 'File ', 185-190Psi.nc, 'is open...\n'
Z=F.variables['diag_levels'][:] # extracts 1D array
T=F.variables['T'][:]
Psi=F.variables['PsiVEL'][:,:,:,:] #extracs 4D array
Y=F.variables['Yp1'][:]
F.close() #close the file when you're done


## IN WORKING PROGESS ## 
Manipulating netcdf files MOCcalc exmaple
Psizonal=numpy.mean(Psi2,3) #zonal means in X dimension
Psimax1=np.zeros((len(Y),len(T)))
Psizonal2=Psizonal[:,2:23,:]
for i in range(0,len(T)): # for i=1:len(T) NB python index wrt to 0 rather than 1
   for j in range(0,len(Y)): # for j=1:len(Y)
      PZ=Psizonal2[i,:,j]
      Psimax1(j,i)=np.maximum(PZ) 
   else:
      continue
   break
    
for i in range(0,len(T)):
   PM=Psimax1[:,i]
   Psimax(i)=max(PM)
np.shape(Psimax)
